<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="cs"
 lang="cs" dir="ltr">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>user:zeman:interset:how-to-use [ufal wiki]</title>
	<meta name="generator" content="DokuWiki Release 2006-11-06" />
<meta name="robots" content="noindex,nofollow" />
<meta name="date" content="2009-02-18T23:32:11+0100" />
<meta name="keywords" content="user,zeman,interset,how-to-use" />
<link rel="start" href="/" />
<link rel="contents" href="/user:zeman:interset:how-to-use?do=index" title="Index" />
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="/feed.php" />
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="/feed.php?mode=list&amp;ns=user:zeman:interset" />
<link rel="alternate" type="text/html" title="Plain HTML" href="/_export/xhtml/user:zeman:interset:how-to-use" />
<link rel="alternate" type="text/plain" title="Wiki Markup" href="/_export/raw/user:zeman:interset:how-to-use" />
<link rel="stylesheet" media="screen" type="text/css" href="/lib/exe/css.php?1" />
<link rel="stylesheet" media="print" type="text/css" href="/lib/exe/css.php?print=1" />
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?edit=0&amp;write=0" ></script>
	<link href="ufal.css" rel="stylesheet" type="text/css" media="screen" />
	<!--[if lte IE 6]><link rel="stylesheet" type="text/css" href="ufal-msie.css" media="screen" /><![endif]-->
	<!--[if IE 7]><link rel="stylesheet" type="text/css" href="ufal-msie7.css" media="screen" /><![endif]-->
  	<link href="print.css" rel="stylesheet" media="print" />
  	<link rel="shortcut icon" href="/lib/tpl/ufal/images/favicon.ico" />
</head>


<body>
  <p class="hiddenWithCss">
		<a href="user:zeman:interset:how-to-use#" id="noCssNavigation"></a>
		[ <a href="user:zeman:interset:how-to-use#noCssContent">Skip to the content</a> ]
	</p>
	<div>
		<a href="index.html"><img id="logo" src="logo_ufal_142.png" alt="MFF ÚFAL Wiki" /></a>
	</div>

	<h1 class="header"><a href="index.html">Institute of Formal and Applied Linguistics Wiki</a></h1>

	<ul id="menu">
		<li><a href="index.html" class="active">ÚFAL Wiki Home</a></li>
		<li><a href="http://ufal.ms.mff.cuni.cz">ÚFAL Home</a></li>
				<!--li><a title="spravuje Dan Zeman" href="/cgi-bin/zeman/adresy/index.pl">Kontakty</a></li-->
		<li><a title="přehled všech stránek" href="doku.php?do=index">Sitemap</a></li>
		<li><a title="přehled změn" href="feed.php">RSS</a></li>
		<li style="margin-bottom:2em;"><a title="ufal.kalendar" href="kalendar">ÚFAL kalendář</a></li>

						<li><a href="index.html?do=recent">Poslední změny stránek</a></li>
		 <li><a href="https://wiki.ufal.ms.mff.cuni.cz/user:zeman:interset:how-to-use?do=revisions">Starší verze této stránky</a></li> 		 <li><a href="https://wiki.ufal.ms.mff.cuni.cz/doku.php?do=login&amp;id=user:zeman:interset:how-to-use">Přihlášení</a></li> 		
	<li>
	Hledat:
	<form method="get" action="/doku.php">
	<input type="hidden" name="do" value="search"/>
	<input type="text" name="id" size="12" style="width:10em!important; font-size:97%" />
	</form>
	</li>

	</ul>


	<hr class="hiddenWithCss" />

	<p class="hiddenWithCss">
		<a href="user:zeman:interset:how-to-use#" id="noCssContent"></a>
		[ <a href="user:zeman:interset:how-to-use#noCssNavigation">Back to the navigation</a> ]
	</p>

		<div class="breadcrumbs">
    	Umístění: <a href="start"  title="start">start</a> &raquo; <a href="user"  title="user">user</a> &raquo; <a href="user:zeman:start"  title="user:zeman:start">zeman</a> &raquo; <a href="user:zeman:interset"  title="user:zeman:interset">interset</a> &raquo; <a href="user:zeman:interset:how-to-use"  title="user:zeman:interset:how-to-use">how-to-use</a>    </div>
    
	<div id="main" class="dokuwiki">
								<div class="toc">
<div class="tocheader toctoggle" id="toc__header">Obsah</div>
<div id="toc__inside">

<ul class="toc">
<li class="clear">

<ul class="toc">
<li class="level2"><div class="li"><span class="li"><a href="user:zeman:interset:how-to-use#manual" class="toc">Manual</a></span></div>
<ul class="toc">
<li class="level3"><div class="li"><span class="li"><a href="user:zeman:interset:how-to-use#installation" class="toc">Installation</a></span></div></li>
<li class="level3"><div class="li"><span class="li"><a href="user:zeman:interset:how-to-use#how-to-use-the-interset" class="toc">How to use the Interset</a></span></div></li></ul>
</li></ul>
</li></ul>
</div>
</div>



<h2><a name="manual" id="manual">Manual</a></h2>
<div class="level2">

</div>

<h3><a name="installation" id="installation">Installation</a></h3>
<div class="level3">

<p>
 If you exist on the ÚFAL network, you can use directly Dan's version here. Otherwise, you need to <a href="mailto:&#x6d;&#x61;&#x69;&#x6c;&#x74;&#x6f;&#x3a;&#x7a;&#x65;&#x6d;&#x61;&#x6e;&#x40;&#x75;&#x66;&#x61;&#x6c;&#x2e;&#x6d;&#x66;&#x66;&#x2e;&#x63;&#x75;&#x6e;&#x69;&#x2e;&#x63;&#x7a;" class="mail JSnocheck" title="&#x6d;&#x61;&#x69;&#x6c;&#x74;&#x6f;&#x3a;&#x7a;&#x65;&#x6d;&#x61;&#x6e;&#x40;&#x75;&#x66;&#x61;&#x6c;&#x2e;&#x6d;&#x66;&#x66;&#x2e;&#x63;&#x75;&#x6e;&#x69;&#x2e;&#x63;&#x7a;">ask Dan</a> for a zipped package of the currently existing drivers. (I intend to maintain it here for download some time later.) Unzip it to a convenient place; below, we assume it is in <code>/home/zeman/interset</code>. 
</p>

<p>
<strong>Contributions welcome!</strong> If you write your own driver, please share it with others! If you send it to me, I will add it to the package for download here. 
</p>

</div>

<h4><a name="existing-drivers" id="existing-drivers">Existing drivers</a></h4>
<div class="level4">

<p>
 Note: This list may not be up-to-date. To see what drivers are currently available on your system, call <code>driver-test.pl</code> without arguments.  
</p>
<ol>
<li class="level1"><div class="li"> tagset::ar::conll - Arabic <acronym title="Conference on Natural Language Learning">CoNLL</acronym> treebank (coarse, fine and feat fields in one string, delimited by tabs) </div>
</li>
<li class="level1"><div class="li"> tagset::bg::conll - Bulgarian <acronym title="Conference on Natural Language Learning">CoNLL</acronym> treebank </div>
</li>
<li class="level1"><div class="li"> tagset::cs::conll - Czech <acronym title="Conference on Natural Language Learning">CoNLL</acronym> treebank, based on the Prague Dependency Treebank </div>
</li>
<li class="level1"><div class="li"> tagset::cs::multext - Czech subset of the tagset from the Multext East project </div>
</li>
<li class="level1"><div class="li"> tagset::cs::pdt - Czech positional tags of the Prague Dependency Treebank </div>
</li>
<li class="level1"><div class="li"> tagset::da::conll - Danish <acronym title="Conference on Natural Language Learning">CoNLL</acronym> treebank </div>
</li>
<li class="level1"><div class="li"> tagset::de::conll - German <acronym title="Conference on Natural Language Learning">CoNLL</acronym> treebank (one-to-one mapping to de::stts) </div>
</li>
<li class="level1"><div class="li"> tagset::de::stts - German: Stuttgart-Tübingen Tagset (Tiger treebank) </div>
</li>
<li class="level1"><div class="li"> tagset::en::conll - English <acronym title="Conference on Natural Language Learning">CoNLL</acronym> treebank (one-to-one mapping to en::penn) </div>
</li>
<li class="level1"><div class="li"> tagset::en::penn - English Penn Treebank </div>
</li>
<li class="level1"><div class="li"> tagset::pt::conll - Portuguese <acronym title="Conference on Natural Language Learning">CoNLL</acronym> treebank (based on the Floresta treebank) </div>
</li>
<li class="level1"><div class="li"> tagset::sv::conll - Swedish <acronym title="Conference on Natural Language Learning">CoNLL</acronym> treebank (one-to-one mapping to sv::mamba) </div>
</li>
<li class="level1"><div class="li"> tagset::sv::hajic - Tags output by Swedish tagger by Jan Hajič </div>
</li>
<li class="level1"><div class="li"> tagset::sv::mamba - Swedish Mamba tags from Talbanken05 (<acronym title="Conference on Natural Language Learning">CoNLL</acronym> treebank) </div>
</li>
<li class="level1"><div class="li"> tagset::sv::svdahybrid - Dan's tagset, aiming at making distribution of tags from sv::hajic and da::conll as close as possible </div>
</li>
<li class="level1"><div class="li"> tagset::zh::conll - Chinese <acronym title="Conference on Natural Language Learning">CoNLL</acronym> treebank </div>
</li>
</ol>

</div>

<h4><a name="directory-structure" id="directory-structure">Directory Structure</a></h4>
<div class="level4">

<p>
 The drivers are <acronym title="Practical Extraction and Report Language">Perl</acronym> modules and must be somewhere under <code>$PERLLIB</code> (<code>@INC</code>). Their root folder is <code>tagset</code> (this is what separates the tag set drivers from other <acronym title="Practical Extraction and Report Language">Perl</acronym> libraries). Subfolders of <code>tagset</code> are two-letter codes of languages (<a href="http://en.wikipedia.org/wiki/ISO_639-1" class="urlextern" title="http://en.wikipedia.org/wiki/ISO_639-1"  rel="nofollow">ISO 639-1</a>). Some tagsets may be designed for more than one language but most are language-specific. PM files in language folders are drivers. Drivers are called xxx.pm, where xxx is the code name of the tagset. The driver xxx.pm for language ll should be accessible from <acronym title="Practical Extraction and Report Language">Perl</acronym> via 
</p>
<pre class="code perl"><span class="kw2">use</span> tagset::<span class="me2">ll</span>::<span class="me2">xxx</span>;</pre>
<p>
Besides drivers, there is a library of useful functions that can be called from within drivers: <code>tagset/common.pm</code>. 
</p>

<p>
There is also the driver testing script, <code>bin/driver-test.pl</code>. The distribution may contain some sample conversion scripts as well; however, these depend much more on the file format than on the tagset drivers, and thus you'll probably need to write your own anyway. 
</p>

</div>

<h3><a name="how-to-use-the-interset" id="how-to-use-the-interset">How to use the Interset</a></h3>
<div class="level3">

<p>
 You can write your own tag conversion <acronym title="Practical Extraction and Report Language">Perl</acronym> script, and use the Interset driver library. You have to tell <acronym title="Practical Extraction and Report Language">Perl</acronym> where to find the drivers (the following commands work in <code>csh</code>; you have to use different syntax under <code>bash</code> or in Windows command line): 
</p>
<pre class="code">setenv PERLLIB /home/zeman/projekty/interset/lib:$PERLLIB 
setenv PATH /home/zeman/projekty/interset/bin:$PATH</pre>

<p>
Once the variable is set, writing a conversion script is very easy. For instance, my <code>csts-cs-pdt-en-penn.pl</code> script (meaning &quot;read and write <a href="https://wiki.ufal.ms.mff.cuni.cz/format-csts" class="wikilink1" title="format-csts">CSTS format</a>, read Czech <acronym title="Prague Dependency Treebank">PDT</acronym> tags, write English Penn tags) essentially looks like this: 
</p>
<pre class="code perl"><span class="kw2">use</span> tagset::<span class="me2">cs</span>::<span class="me2">pdt</span>; 
<span class="kw2">use</span> tagset::<span class="me2">en</span>::<span class="me2">penn</span>; 
&nbsp;
<span class="kw1">while</span><span class="br0">&#40;</span>&lt;&gt;<span class="br0">&#41;</span> 
<span class="br0">&#123;</span> 
    <span class="kw1">if</span><span class="br0">&#40;</span><a href="http://www.perldoc.com/perl5.6/pod/func/s.html"><span class="kw3">s</span></a>/<span class="re4">&lt;t&gt;</span><span class="br0">&#40;</span><span class="br0">&#91;</span>^&lt;<span class="br0">&#93;</span>+<span class="br0">&#41;</span>/<span class="re4">&lt;_tag_to_convert_&gt;</span>/<span class="br0">&#41;</span> 
    <span class="br0">&#123;</span> 
        <span class="kw1">my</span> <span class="re0">$tag0</span> = $<span class="nu0">1</span>; 
        <span class="kw1">my</span> <span class="re0">$features</span> = tagset::<span class="me2">cs</span>::<span class="me2">pdt</span>::<span class="me2">decode</span><span class="br0">&#40;</span><span class="re0">$tag0</span><span class="br0">&#41;</span>; 
        <span class="kw1">my</span> <span class="re0">$tag1</span> = tagset::<span class="me2">en</span>::<span class="me2">penn</span>::<span class="me2">encode</span><span class="br0">&#40;</span><span class="re0">$features</span><span class="br0">&#41;</span>; 
        <a href="http://www.perldoc.com/perl5.6/pod/func/s.html"><span class="kw3">s</span></a>/<span class="re4">&lt;_tag_to_convert_&gt;</span>/<span class="re4">&lt;t&gt;</span><span class="re0">$tag1</span>/; 
    <span class="br0">&#125;</span> 
    <a href="http://www.perldoc.com/perl5.6/pod/func/print.html"><span class="kw3">print</span></a>; 
<span class="br0">&#125;</span></pre>
<p>
Note the two-step replacement of the original tag. I do not dare to use the original tag in a regular expression because there could be special characters in the tag. 
</p>

<p>
Some operations performed by the drivers (especially when encoding) are not trivial. While you may not observe long processing times for toy runs, it might matter once you start converting millions of tags in a big corpus. Then you may want to use up the fact that there are tens to thousands of tags, and cache their translations like in the following example: 
</p>
<pre class="code perl"><span class="kw2">use</span> tagset::<span class="me2">cs</span>::<span class="me2">pdt</span>; 
<span class="kw2">use</span> tagset::<span class="me2">en</span>::<span class="me2">penn</span>; 
&nbsp;
<span class="kw1">while</span><span class="br0">&#40;</span>&lt;&gt;<span class="br0">&#41;</span> 
<span class="br0">&#123;</span> 
    <span class="kw1">if</span><span class="br0">&#40;</span><a href="http://www.perldoc.com/perl5.6/pod/func/s.html"><span class="kw3">s</span></a>/<span class="re4">&lt;t&gt;</span><span class="br0">&#40;</span><span class="br0">&#91;</span>^&lt;<span class="br0">&#93;</span>+<span class="br0">&#41;</span>/<span class="re4">&lt;_tag_to_convert_&gt;</span>/<span class="br0">&#41;</span> 
    <span class="br0">&#123;</span> 
        <span class="kw1">my</span> <span class="re0">$tag0</span> = $<span class="nu0">1</span>; 
        <span class="kw1">my</span> <span class="re0">$tag1</span>; 
        <span class="kw1">if</span><span class="br0">&#40;</span><a href="http://www.perldoc.com/perl5.6/pod/func/exists.html"><span class="kw3">exists</span></a><span class="br0">&#40;</span><span class="re0">$cache</span><span class="br0">&#123;</span><span class="re0">$tag0</span><span class="br0">&#125;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> 
        <span class="br0">&#123;</span> 
            <span class="re0">$tag1</span> = <span class="re0">$cache</span><span class="br0">&#123;</span><span class="re0">$tag0</span><span class="br0">&#125;</span>; 
        <span class="br0">&#125;</span> 
        <span class="kw1">else</span> 
        <span class="br0">&#123;</span> 
            <span class="kw1">my</span> <span class="re0">$features</span> = tagset::<span class="me2">cs</span>::<span class="me2">pdt</span>::<span class="me2">decode</span><span class="br0">&#40;</span><span class="re0">$tag0</span><span class="br0">&#41;</span>; 
            <span class="re0">$tag1</span> = tagset::<span class="me2">en</span>::<span class="me2">penn</span>::<span class="me2">encode</span><span class="br0">&#40;</span><span class="re0">$features</span><span class="br0">&#41;</span>; 
            <span class="re0">$cache</span><span class="br0">&#123;</span><span class="re0">$tag0</span><span class="br0">&#125;</span> = <span class="re0">$tag1</span>; 
        <span class="br0">&#125;</span> 
        <a href="http://www.perldoc.com/perl5.6/pod/func/s.html"><span class="kw3">s</span></a>/<span class="re4">&lt;_tag_to_convert_&gt;</span>/<span class="re4">&lt;t&gt;</span><span class="re0">$tag1</span>/; 
    <span class="br0">&#125;</span> 
    <a href="http://www.perldoc.com/perl5.6/pod/func/print.html"><span class="kw3">print</span></a>; 
<span class="br0">&#125;</span></pre>
<p>
 <br /> <br />
</p>

</div>

					</div> <!-- dokuwiki div end -->

	<hr class="hiddenWithCss" />

    <p class="hiddenWithCss">
      [ <a href="user:zeman:interset:how-to-use#noCssNavigation">Back to the navigation</a> ]
      [ <a href="user:zeman:interset:how-to-use#noCssContent">Back to the content</a> ]
    </p>

	<div class="no"><img src="/lib/exe/indexer.php?id=user%3Azeman%3Ainterset%3Ahow-to-use&amp;1235066236" width="1" height="1" alt=""  /></div>
</body>
</html>
